<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>삼성 헌터스</title>

  <link rel="stylesheet" href="common.css" />
  <link rel="stylesheet" href="index.css" />
</head>

<body>

  <div class="adminButtonBox">
    <button class="buttonStyles" onclick="location.href='admin.html'">포지션 관리</button>
    <button class="buttonStyles" onclick="changePassword()">암호 변경</button>
    <button class="buttonStyles" onclick="location.href='order_write.html'">오더 작성</button>
  </div>

  <h1>⚾ 삼성 헌터스 ⚾</h1>

<script>
const API = {
  check: "https://checkpassword-2guymqucma-uc.a.run.app",
  updatePw: "https://updatepassword-2guymqucma-uc.a.run.app"
};

async function changePassword() {
  const oldPw = prompt("현재 비밀번호를 입력하세요");
  if (!oldPw) return;

  const newPw = prompt("변경할 새 비밀번호를 입력하세요");
  if (!newPw) return;

  const res = await fetch(API.updatePw, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ oldPassword: oldPw, newPassword: newPw })
  });

  const result = await res.json();
  if (result.status === "성공") alert("비밀번호가 변경되었습니다!");
  else alert("❌ 변경 실패: " + result.error);
}
</script>

</body>
</html>
